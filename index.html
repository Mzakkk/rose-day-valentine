<!DOCTYPE html>
<html>
<head>
<title>RIYA ‚ù§Ô∏è Valentine</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    margin:0;
    height:100vh;
    background:#000;
    font-family:Georgia,serif;
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
}
canvas{
    position:fixed;
    inset:0;
    z-index:0;
}
.container{
    text-align:center;
    z-index:2;
}
h1{
    font-size:36px;
    color:#ff8fab;
}
p{
    font-size:18px;
    color:#ffd6e0;
    margin-bottom:28px;
}
.buttons{
    position:relative;
    width:320px;
    height:140px;
}
button{
    padding:14px 30px;
    font-size:18px;
    border:none;
    border-radius:30px;
    cursor:pointer;
    position:absolute;
}
.yes{
    background:#ff4d6d;
    color:white;
    left:50%;
    transform:translateX(-50%);
    top:50px;
}
.no{
    background:#e0e0e0;
    color:#333;
    right:0;
    top:50px;
}
#break{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.6);
    display:none;
    justify-content:center;
    align-items:center;
    font-size:100px;
    z-index:5;
}
</style>
</head>

<body>

<canvas id="bg"></canvas>
<div id="break">üíî</div>

<div class="container">
    <h1>RIYA, will you be my Valentine? üåπ</h1>
    <p>You make my world a little more beautiful every day.</p>
    <div class="buttons" id="btnArea">
        <button class="yes" onclick="goYes()">Yes üíñ</button>
        <button class="no" id="noBtn">No üôà</button>
    </div>
</div>

<script>
/* =====================
   DEVICE
===================== */
const isMobile = window.innerWidth < 768;

/* =====================
   NO BUTTON
===================== */
const noBtn = document.getElementById("noBtn");
const area = document.getElementById("btnArea");
const breakScreen = document.getElementById("break");
let step = 0;

function moveNo(){
    const pad = 8;
    const maxX = area.clientWidth - noBtn.offsetWidth - pad;
    const maxY = area.clientHeight - noBtn.offsetHeight - pad;
    const pos = [
        {x:maxX,y:pad},{x:pad,y:pad},
        {x:maxX,y:maxY},{x:pad,y:maxY}
    ];
    noBtn.style.left = pos[step].x+"px";
    noBtn.style.top  = pos[step].y+"px";
    step = (step+1)%4;
}
noBtn.addEventListener("mouseenter",moveNo);
noBtn.addEventListener("touchstart",moveNo);
noBtn.addEventListener("click",()=>{
    breakScreen.style.display="flex";
    setTimeout(()=>breakScreen.style.display="none",1200);
});

/* =====================
   CANVAS (DPR SAFE)
===================== */
const canvas = document.getElementById("bg");
const ctx = canvas.getContext("2d");
const dpr = Math.min(window.devicePixelRatio || 1, 2);

function resize(){
    canvas.width = innerWidth * dpr;
    canvas.height = innerHeight * dpr;
    canvas.style.width = innerWidth+"px";
    canvas.style.height = innerHeight+"px";
    ctx.setTransform(dpr,0,0,dpr,0,0);
}
resize();
addEventListener("resize",resize);

/* =====================
   HEART CONFIG
===================== */
const INITIAL = isMobile ? 22 : 40;
const MAX     = isMobile ? 70 : 110;
const LINK    = isMobile ? 120 : 160;
const SPEED   = isMobile ? 0.35 : 0.4;

const hearts = [];

/* =====================
   VECTOR HEART
===================== */
function drawHeart(x,y,size,alpha){
    ctx.save();
    ctx.translate(x,y);
    ctx.scale(size,size);
    ctx.globalAlpha = alpha;
    ctx.fillStyle = "#ff8fab";
    ctx.beginPath();
    ctx.moveTo(0,0);
    ctx.bezierCurveTo(-0.5,-0.5,-1.5,0.2,0,1.5);
    ctx.bezierCurveTo(1.5,0.2,0.5,-0.5,0,0);
    ctx.fill();
    ctx.restore();
    ctx.globalAlpha = 1;
}

/* =====================
   HEART CLASS
===================== */
class Heart{
    constructor(x,y){
        this.x = x ?? Math.random()*innerWidth;
        this.y = y ?? Math.random()*innerHeight;
        this.vx = (Math.random()-0.5)*SPEED;
        this.vy = (Math.random()-0.5)*SPEED;
        this.alpha = 0;
        this.size = 6;
    }
    update(){
        this.x += this.vx;
        this.y += this.vy;

        if(this.x<0||this.x>innerWidth) this.vx*=-1;
        if(this.y<0||this.y>innerHeight) this.vy*=-1;

        this.alpha = Math.min(1, this.alpha + 0.03);
    }
    draw(){
        drawHeart(this.x,this.y,this.size,this.alpha);
    }
}

/* INIT */
for(let i=0;i<INITIAL;i++) hearts.push(new Heart());

canvas.addEventListener("click",e=>{
    if(hearts.length >= MAX) return;
    hearts.push(new Heart(e.clientX,e.clientY));
});

/* =====================
   ANIMATION
===================== */
function animate(){
    ctx.clearRect(0,0,innerWidth,innerHeight);

    hearts.forEach(h=>{
        h.update();
        h.draw();
    });

    for(let i=0;i<hearts.length;i++){
        for(let j=i+1;j<hearts.length;j++){
            const d = Math.hypot(
                hearts[i].x-hearts[j].x,
                hearts[i].y-hearts[j].y
            );
            if(d < LINK){
                ctx.strokeStyle = "rgba(255,255,255,0.18)";
                ctx.lineWidth = 0.6;
                ctx.beginPath();
                ctx.moveTo(hearts[i].x,hearts[i].y);
                ctx.lineTo(hearts[j].x,hearts[j].y);
                ctx.stroke();
            }
        }
    }
    requestAnimationFrame(animate);
}
animate();

function goYes(){
    location.href="rose.html";
}
</script>

</body>
</html>
