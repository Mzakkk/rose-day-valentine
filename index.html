<!DOCTYPE html>
<html>
<head>
<title>RIYA ‚ù§Ô∏è Valentine</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    margin:0;
    height:100vh;
    background:#ffe4e9;
    font-family:Georgia,serif;
    overflow:hidden;
}

/* Canvas */
canvas{
    position:fixed;
    inset:0;
    z-index:0;
}

/* Content */
.container{
    position:relative;
    z-index:2;
    height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
}

h1{
    font-size:40px;
    color:#c9184a;
    margin-bottom:15px;
}

p{
    font-size:20px;
    color:#7a1c2d;
    margin-bottom:40px;
}

/* Buttons */
.buttons{
    position:relative;
    width:100%;
    height:120px;
}

button{
    padding:14px 36px;
    font-size:20px;
    border:none;
    border-radius:30px;
    cursor:pointer;
    position:absolute;
}

.yes{
    background:#ff4d6d;
    color:white;
    left:50%;
    transform:translateX(-50%);
}

.no{
    background:#e0e0e0;
    color:#333;
}
</style>
</head>

<body>

<canvas id="bg"></canvas>

<div class="container">
    <h1>RIYA, will you be my Valentine? üåπ</h1>
    <p>You make my world a little more beautiful every day.</p>

    <div class="buttons">
        <button class="yes" onclick="goYes()">Yes üíñ</button>
        <button class="no" id="noBtn">No üôà</button>
    </div>
</div>

<script>
/* =========================
   NO BUTTON (LEFT ‚Üî RIGHT)
========================= */
const noBtn = document.getElementById("noBtn");

function moveNo(){
    const padding = 20;
    const y = 20;

    if(Math.random() > 0.5){
        noBtn.style.left = padding + "px";
    } else {
        noBtn.style.left = (innerWidth - noBtn.offsetWidth - padding) + "px";
    }
    noBtn.style.top = y + "px";
}

noBtn.addEventListener("mouseenter", moveNo);
noBtn.addEventListener("touchstart", moveNo);

/* =========================
   HEART NETWORK (SMOOTH + MULTIPLY)
========================= */
const canvas = document.getElementById("bg");
const ctx = canvas.getContext("2d");

function resize(){
    canvas.width = innerWidth;
    canvas.height = innerHeight;
}
resize();
addEventListener("resize", resize);

const hearts = [];
const INITIAL = 35;
const MAX = 100;
const LINK_DISTANCE = 120;
const CLICK_RADIUS = 40;   // üëà FIX

class Heart{
    constructor(x,y){
        this.x = x ?? Math.random()*canvas.width;
        this.y = y ?? Math.random()*canvas.height;
        this.vx = (Math.random()-0.5)*0.25;
        this.vy = (Math.random()-0.5)*0.25;
        this.size = 12;
        this.alpha = 0;
        this.cooldown = false;
    }

    move(){
        this.x += this.vx;
        this.y += this.vy;

        if(this.x<0||this.x>canvas.width) this.vx*=-1;
        if(this.y<0||this.y>canvas.height) this.vy*=-1;

        if(this.alpha < 1) this.alpha += 0.015;
    }

    draw(){
        ctx.globalAlpha = this.alpha;
        ctx.font = this.size+"px serif";
        ctx.fillText("üñ§",this.x,this.y);
        ctx.globalAlpha = 1;
    }
}

for(let i=0;i<INITIAL;i++) hearts.push(new Heart());

canvas.addEventListener("click", e=>{
    if(hearts.length >= MAX) return;

    const mx = e.clientX;
    const my = e.clientY;

    for(const h of hearts){
        const d = Math.hypot(h.x-mx, h.y-my);

        if(d < CLICK_RADIUS && !h.cooldown){
            const angle = Math.random() * Math.PI * 2;
            const offset = 15;

            hearts.push(
                new Heart(
                    h.x + Math.cos(angle)*offset,
                    h.y + Math.sin(angle)*offset
                )
            );

            h.cooldown = true;
            setTimeout(()=>h.cooldown=false,800);
            break; // üëà only ONE heart per click
        }
    }
});

function animate(){
    ctx.clearRect(0,0,canvas.width,canvas.height);

    hearts.forEach(h=>{
        h.move();
        h.draw();
    });

    for(let i=0;i<hearts.length;i++){
        for(let j=i+1;j<hearts.length;j++){
            const d = Math.hypot(
                hearts[i].x-hearts[j].x,
                hearts[i].y-hearts[j].y
            );
            if(d < LINK_DISTANCE){
                ctx.strokeStyle = "rgba(0,0,0,0.12)";
                ctx.beginPath();
                ctx.moveTo(hearts[i].x,hearts[i].y);
                ctx.lineTo(hearts[j].x,hearts[j].y);
                ctx.stroke();
            }
        }
    }

    requestAnimationFrame(animate);
}
animate();

/* ========================= */
function goYes(){
    window.location.href = "rose.html";
}
</script>

</body>
</html>
